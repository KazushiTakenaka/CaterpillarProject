# Caterpillar Project

このプロジェクトは、ESP32開発ボード上で動作する、キャタピラ型ロボットのような遠隔操作車両のファームウェアです。PlatformIOとArduinoフレームワークを使用しています。

## 概要

本プロジェクトは、ESP-NOWプロトコルを利用した双方向通信により、遠隔操作が可能なロボットカーの制御システムを実装しています。通信途絶時には車両の安全を確保するフェイルセーフ機能を備えています。

## 主要な構成要素

-   **`src/main.cpp`**:
    *   プロジェクトの中心となるアプリケーションロジックを含みます。
    *   ESP-NOW通信の管理、モーターとブザーの制御、バッテリー電圧の監視を行います。
    *   通信喪失時のフェイルセーフ処理もここに実装されています。

-   **`src/Caterpillar.h` / `src/Caterpillar.cpp`**:
    *   車両のモーターとブザーを制御するためのハードウェア抽象化レイヤー（HAL）を提供します。
    *   ESP32のLEDC（PWM）機能を利用して、正確なモーター速度制御とブザー音の生成を行います。

-   **`src/ESPNowManager.h` / `src/ESPNowManager.cpp`**:
    *   ESP-NOW通信のセットアップとピア（相手デバイス）とのペアリングを管理するユーティリティクラスです。
    *   安定した通信接続を確立するためのリトライメカニズムを備えています。

## 使用技術

-   **ハードウェア**: ESP32開発ボード
-   **開発環境**: PlatformIO
-   **フレームワーク**: Arduino
-   **通信プロトコル**: ESP-NOW
